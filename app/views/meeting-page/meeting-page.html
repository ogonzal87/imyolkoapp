<og-navbar></og-navbar>

<div class="meeting-page"
	 ng-class="{'inactive-background-color': !$ctrl.presenter.yolkoIsActive && !$ctrl.presenter.lostIsActive && !$ctrl.presenter.questionsIsActive && !$ctrl.presenter.speedIsActive && !$ctrl.presenter.hearingIsActive && !$ctrl.presenter.customQuestionToAttendeesIsActive}">

	<!--Show when there is no action from the Presenter-->
	<div class="avatar-deactive-container" ng-if="!$ctrl.presenter.yolkoIsActive && !$ctrl.presenter.lostIsActive && !$ctrl.presenter.questionsIsActive && !$ctrl.presenter.speedIsActive && !$ctrl.presenter.hearingIsActive && !$ctrl.presenter.customQuestionToAttendeesIsActive">
		<img ng-src="{{ $ctrl.avatarDeactive.face }}">
		<p class="avatar-deactive-message-bg">
			We are good here...
		</p>
		<p class="avatar-deactive-message-sm">No feedback is needed right now. Check back in a few  </p>
	</div>


	<!--Show when there is action from the Presenter-->
	<div class="meeting-container container">

		<!--YOLKO-->
		<div class="meeting-row" ng-if="$ctrl.presenter.yolkoIsActive">
			<div class="meeting-question">
				How are you feeling?
			</div>

			<div class="meeting-avatar-and-btns-container">

				<div class="meeting-avatar-container">
					<img ng-src="{{ $ctrl.avatar.face }}">
				</div>

				<div class="meeting-yolko-btns-container">
					<button class="yolko-dislike-btn meeting-yolko-sentiment-btn"
							ng-click="$ctrl.voteDislike()"
							ng-disabled="$ctrl.disableSentimentBtns">
						<i class="fa fa-frown-o" aria-hidden="true"></i>
					</button>

					<span>
						<div class="vote-submitted-feedback-icon"
							 ng-class="{'vote-submitted-feedback-icon-active': $ctrl.disableSentimentBtns}"
							 ng-if="$ctrl.disableSentimentBtns">
							<i class="fa fa-check-circle-o" aria-hidden="true"></i>
						</div>
					</span>

					<button class="yolko-like-btn meeting-yolko-sentiment-btn"
							ng-click="$ctrl.voteLike()"
							ng-disabled="$ctrl.disableSentimentBtns">
						<i class="fa fa-smile-o" aria-hidden="true"></i>
					</button>
				</div>

			</div>
		</div>

		<!-- POP QUIZ -->
		<div class="meeting-quiz-container" ng-show="$ctrl.presenter.customQuestionToAttendeesIsActive && $ctrl.presenter.selectedQuestionForAttendees">
			<div id="quiz">
				<div id="question" class="meeting-pop-question">
					{{ $ctrl.presenter.selectedQuestionForAttendees.questionContent }}
				</div>
				<div id="choices" class="meeting-pop-choices">
					<input type="radio"
						   id="availableAnsA"
						   name="availableAnsA"
						   ng-model="attendee.chosenAnswer"
						   value="A"
						   class="pop-choice" >
					<label class="pop-choice" for="availableAnsA">
						<span class="pop-choice-letter">A</span>
						{{$ctrl.presenter.selectedQuestionForAttendees.availAnswers[0].a}}
					</label>

					<input type="radio"
						   name="availableAnsB"
						   id="availableAnsB"
						   ng-model="attendee.chosenAnswer"
						   value="B"
						   class="pop-choice">
					<label class="pop-choice" for="availableAnsB">
						<span class="pop-choice-letter">B</span>
						{{$ctrl.presenter.selectedQuestionForAttendees.availAnswers[1].b}}
					</label>

					<input type="radio"
						   name="availableAnsC"
						   id="availableAnsC"
						   ng-model="attendee.chosenAnswer"
						   value="C"
						   class="pop-choice">
					<label class="pop-choice" for="availableAnsC">
						<span class="pop-choice-letter">C</span>
						{{$ctrl.presenter.selectedQuestionForAttendees.availAnswers[2].c}}
					</label>

				</div>
				<button class="btn pop-submit-btn"
						ng-click="$ctrl.submitAnswer()"
						ng-disabled="$ctrl.disableAllChoices">
					SUBMIT ANSWER
				</button>
			</div>
		</div>
		<!-- POP QUIZ RESULTS CHART -->
		<div class="container meeting-quiz-results-container" ng-show="$ctrl.presenter.selectedQuestionForAttendees.questionData.isShowingResultsToAttendees">
			<div class="ct-chart-customQuestionsToAttendeesMeeting ct-major-tenth"></div>
		</div>


		<!--LOST-->
		<div class="meeting-row" ng-if="$ctrl.presenter.lostIsActive">
			<div class="meeting-question" ng-hide="$ctrl.lostFeedbackTaken">
				Are you lost?
			</div>

			<div class="response-options">
				<div class="option"
					 ng-click="$ctrl.attendeeInPanic()"
					 ng-hide="$ctrl.lostFeedbackTaken">
					Yep
				</div>

				<div class="meeting-feedback-taken" ng-show="$ctrl.lostFeedbackTaken">
					<div>
						<div class="yolko-avatar-feedback-taken-container">
							<img src="assets/avatars/winking.png"/>
						</div>
					</div>
					<div class="text-feedback">
						<h2>High fives!</h2><i class="em em-raised_hand hand-emoji"></i>
					</div>
					<p>I'll let the presenter know now</p>
				</div>

				<div class="option"
					 ng-click="$ctrl.attendeeNotInPanic()"
					 ng-hide="$ctrl.lostFeedbackTaken">
					Nope
				</div>
			</div>
		</div>


		<!--HEARING-->
		<div class="meeting-row" ng-if="$ctrl.presenter.hearingIsActive">
			<div class="meeting-question" ng-hide="$ctrl.hearingFeedbackTaken">
				Can you hear?
			</div>

			<div class="response-options">
				<div class="option"
					 ng-click="$ctrl.attendeeCanHear()"
					 ng-hide="$ctrl.hearingFeedbackTaken">
					Yep
				</div>

				<div class="meeting-feedback-taken" ng-show="$ctrl.hearingFeedbackTaken">
					<div>
						<div class="yolko-avatar-feedback-taken-container">
							<img src="assets/avatars/winking.png"/>
						</div>
					</div>
					<div class="text-feedback">
						<h2>High fives!</h2><i class="em em-raised_hand hand-emoji"></i>
					</div>
					<p>I'll let the presenter know now</p>
				</div>

				<div class="option"
					 ng-click="$ctrl.attendeeCannotHear()"
					 ng-hide="$ctrl.hearingFeedbackTaken">
					Nope
				</div>
			</div>
		</div>


		<!--SPEED-->
		<div class="meeting-row" ng-if="$ctrl.presenter.speedIsActive">
			<div class="meeting-question" ng-hide="$ctrl.speedFeedbackTaken">
				How do you like the speed?
			</div>

			<div class="response-options">
				<div class="option"
					 ng-click="$ctrl.attendeeWantFaster()"
					 ng-hide="$ctrl.speedFeedbackTaken">
					Faster
				</div>

				<div class="meeting-feedback-taken" ng-show="$ctrl.speedFeedbackTaken">
					<div>
						<div class="yolko-avatar-feedback-taken-container">
							<img src="assets/avatars/winking.png"/>
						</div>
					</div>
					<div class="text-feedback">
						<h2>High fives!</h2><i class="em em-raised_hand hand-emoji"></i>
					</div>
					<p>I'll let the presenter know now</p>
				</div>

				<div class="option"
					 ng-click="$ctrl.attendeeWantSlower()"
					 ng-hide="$ctrl.speedFeedbackTaken">
					Slower
				</div>
			</div>
		</div>


		<!--QUESTIONS TO PRESENTER-->
		<div class="meeting-questions-to-presenter-container" ng-show="$ctrl.presenter.questionsIsActive">
			<form role="form">
				<textarea class="meeting-question-to-presenter-input"
						  id="question-to-presenter"
						  ng-model="$ctrl.questionContent"
						  placeholder="Ask a question and the audience will vote for it..."
						  ng-keydown="$ctrl.addQuestionKeyDown($event)">
				</textarea>

				<div class="ask-button-container">
					<button class="btn askbutton"
							type="button"
							ng-click="$ctrl.addQuestionClick()">
						<span><i class="fa fa-comment" style="margin-right: 10px;"></i></span>
						ASK
					</button>
				</div>
			</form>

			<ul class="list-group meeting-questions-list">
				<li class="list-group-item meeting-question-in-list"
					ng-repeat="(key, questionToPresenter) in $ctrl.questionsToPresenter | orderBy: '-counter'">
					<div class="meeting-question-content">
						{{ questionToPresenter.content }}
						<div class="meeting-question-content-time">
							{{ questionToPresenter.time | date: 'h:mm:ss a' }}
						</div>
					</div>
					<div class="meeting-question-voting-controls">
						<button class="btn btn-sm btn-default"
								ng-click="$ctrl.voteQuestionUp(questionToPresenter)">
							<i class="fa fa-chevron-up fa-3x meeting-voting-up-arrow"></i>
							<div class="question-voting-controls-text">
								{{ questionToPresenter.counter }}
							</div>
						</button>

						<!--<button class="btn btn-sm btn-default" ng-click="$ctrl.voteQuestionDown(questionToPresenter)">-->
						<!--<i class="fa fa-chevron-down"></i>-->
						<!--</button>-->
						<!--<button class="btn btn-sm btn-default" ng-click="$ctrl.removeQuestion(key)">&times;</button>-->
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>


